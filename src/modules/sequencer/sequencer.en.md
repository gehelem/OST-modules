---
title: Module - Sequencer
weight : 20
---

{{% notice style="note" title="Notice" icon="exclamation-triangle" %}}
10/19/2025 - Developer note:
This documentation was generated by Claude AI as a starting point that I will update when I find some time
{{% /notice %}}

# Sequencer Module

The **Sequencer** module automates astronomical image acquisition by defining sequences of exposures with different parameters (filters, exposure time, gain, offset, etc.).

## Overview

The sequencer is designed to manage complex imaging sessions by enabling:
- Multi-line sequence definition with different parameters per line
- Integration with the autofocus module
- Integration with the guiding module
- Real-time progress tracking
- Configuration saving in profiles

## Basic Configuration

### Object (Target Object)

This section allows you to define the coordinates of the observed object:

| Parameter | Description |
|-----------|-------------|
| **Name** | Object name (e.g., M31, NGC7000) |
| **RA** | Right ascension of the object |
| **DEC** | Declination of the object |

This information is used to name acquired files and can be synchronized with the navigator module.

### Sequence (Acquisition Sequence)

The sequence is defined as a table where each line represents a set of exposures:

| Column | Description | Possible Values |
|--------|-------------|-----------------|
| **Frame type** | Exposure type | Light (L), Bias (B), Dark (D), Flat (F) |
| **Filter** | Filter to use | List of available filters on the wheel |
| **Exposure** | Exposure time in seconds | Decimal number (e.g., 300.0 for 5 minutes) |
| **Count** | Number of exposures to take | Integer |
| **Gain** | Camera gain | Value depending on camera |
| **Offset** | Camera offset | Value depending on camera |
| **Progress** | Line progress | Visual indicator (automatic) |

#### Sequence Example

```
Frame Type | Filter | Exposure | Count | Gain | Offset
-----------|--------|----------|-------|------|-------
Light      | Ha     | 300      | 20    | 120  | 20
Light      | OIII   | 300      | 20    | 120  | 20
Light      | SII    | 300      | 20    | 120  | 20
Dark       | -      | 300      | 10    | 120  | 20
```

### Progress

This section displays real-time progress:

- **Sequence**: Overall progress of the entire sequence
- **Current exposure**: Progress of the current exposure

## Advanced Parameters

### Auto-focus at sequence start

**Type**: Boolean (checkbox)
**Default value**: Enabled

When this option is enabled, the sequencer automatically triggers a focus before starting the first line of the sequence. The focus uses the filter defined in the first line.

**Recommended usage**: Always enabled to ensure optimal focus at the start of the session.

### Auto-focus on filter change

**Type**: Boolean (checkbox)
**Default value**: Disabled

Automatically triggers a focus each time the filter changes between two sequence lines.

**Recommended usage**:
- Enabled if your optical system has focus shift between filters (chromatism)
- Disabled if your filters are perfectly compensated

### Focus module instance

**Type**: Module selection
**Default value**: "focus"

Allows selection of which focus module instance to use for autofocus operations. Useful if you have multiple focus modules loaded with different configurations.

### Suspend guiding during focus

**Type**: Boolean (checkbox)
**Default value**: Disabled

When this option is enabled:
1. The sequencer suspends guiding before launching autofocus
2. Autofocus runs without active guiding
3. Guiding automatically resumes after focusing
4. A settling time is applied (see next parameter)

**Recommended usage**:
- Enabled if the guiding system interferes with HFR measurement during autofocus
- Enabled for small focus movements that could trigger parasitic guiding corrections

### Guider module instance

**Type**: Module selection
**Default value**: "guider"

Defines which guider module instance to control for suspend/resume guiding operations.

### Resume guiding settle time

**Type**: Integer (seconds)
**Default value**: 10 seconds

Wait time after guiding resumes before continuing the sequence. This delay allows the guiding system to stabilize and avoids starting an exposure while guiding is converging.

**Recommended values**:
- **5-10 seconds**: Standard configuration
- **15-20 seconds**: Mount with high inertia or aggressive guiding
- **3-5 seconds**: Very stable mount with gentle guiding

## Practical Usage

### Starting a Sequence

1. **Define the target object** in the "Object" section
2. **Create sequence lines** by clicking "+" to add lines
3. **Configure each line** with desired parameters
4. **Check autofocus and guiding parameters**
5. **Launch the sequence** via the action button

### Stopping a Sequence

The sequence can be interrupted at any time. The stop is clean:
- The current exposure is completed
- Files are saved
- Equipment is returned to a safe state

### Resuming an Interrupted Sequence

The sequencer keeps track of each line's progress. To resume:
1. The sequence automatically resumes where it left off
2. Already completed lines are skipped
3. The current line resumes at the remaining exposure count

## Integration with Other Modules

### Focus Module

The sequencer communicates with the focus module to:
- Trigger autofocus at the start of the sequence
- Trigger autofocus during filter changes
- Wait for autofocus completion before continuing

**Required configuration**: The focus module must be loaded and configured.

### Guider Module

The sequencer can control the guider module to:
- Suspend guiding during autofocus
- Resume guiding after autofocus
- Wait for guiding stabilization

**Required configuration**: The guider module must be loaded, calibrated, and actively guiding.

### Camera Module

The sequencer automatically controls:
- Exposure parameters (time, gain, offset)
- Exposure type (Light/Dark/Bias/Flat)
- FITS file recording

### Filter Wheel Module

If a filter wheel is configured:
- The sequencer automatically changes filters between lines
- Filter changes can trigger autofocus (if configured)

## Profiles

The following configurations are saved in profiles:
- Complete sequence definition (all lines)
- Object coordinates
- All autofocus and guiding parameters

To save a profile:
1. Configure the sequence and parameters
2. Use the system's profile save function
3. Give it a meaningful name (e.g., "M31_HaOIIISII", "Broadband_LRGB")

## Tips and Best Practices

### Sequence Organization

- **Group similar exposures**: All Ha exposures together, then OIII, etc.
- **Alternate if necessary**: To compensate for field rotation or changing conditions
- **Darks at the end**: Acquire darks at the end of the session when the camera is at stable temperature

### Autofocus Management

- **Always enable autofocus at startup** to start on solid ground
- **Test focus shift between filters** before enabling autofocus on filter change
- **Monitor first exposures** of each filter to verify focus quality

### Guiding Management

- **Calibrate guiding before** starting the sequence
- **Enable suspension during focus** if you notice erratic HFR variations
- **Adjust settle time** according to your mount (observe first exposures after focus)

### Time Optimization

Total sequence time includes:
- Total exposure time (sum of all exposures)
- Camera readout time
- Filter change time (~2-5 seconds per change)
- Autofocus time (~1-3 minutes per autofocus)
- Guiding settling time (settle time parameter)

**Tip**: Minimizing the number of filter changes reduces total time.

### Error Management

In case of problems during the sequence:
- **Clouds/weather**: Stop cleanly, resuming will be possible
- **Guiding loss**: Check guider configuration before resuming
- **Focus problem**: Check focus module, recalibrate if necessary
- **Camera error**: Check INDI connection, restart camera if necessary

## Troubleshooting

### Sequence Won't Start

- Check that the camera is connected
- Check that the focus module is loaded (if autofocus enabled)
- Check that all sequence parameters are valid
- Consult error messages in logs

### Autofocus Fails

- The sequencer pauses the sequence
- Fix the problem in the focus module
- Manually relaunch autofocus
- Resume the sequence

### Guiding Won't Resume

- Check that the guider module is still active
- Check that the guide star is still visible
- Adjust settle time parameter if necessary
- Recalibrate guiding if necessary

### Files Are Not Saved

- Check destination directory permissions
- Check available disk space
- Check camera module configuration

## File Formats

Generated FITS files contain the following metadata in their header:
- `OBJECT`: Object name
- `OBJCTRA`: Right ascension
- `OBJCTDEC`: Declination
- `EXPTIME`: Exposure time
- `GAIN`: Gain used
- `OFFSET`: Offset used
- `FILTER`: Filter used
- `IMAGETYP`: Exposure type (Light/Dark/Bias/Flat)

This metadata is used by processing software (PixInsight, Siril, etc.) to organize and calibrate images.

## Conclusion

The Sequencer module is the central tool for automating your imaging sessions. Good mastery of its parameters and integration with the focus and guider modules enables reliable, high-quality acquisition sessions, even unattended.
